@inherits LayoutComponentBase

<div class="d-flex">
    <nav class="left-rail d-flex flex-column align-items-center py-3">
        <a class="active" href="/" aria-label="Overview">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708L2 7.207V13.5a.5.5 0 0 0 .5.5H6v-4h4v4h3.5a.5.5 0 0 0 .5-.5V7.207l.646.647a.5.5 0 0 0 .708-.708l-6-6z" /></svg>
        </a>
        <a href="#" aria-label="Analytics">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="10" width="3" height="11" /><rect x="10" y="6" width="3" height="15" /><rect x="17" y="2" width="3" height="19" /></svg>
        </a>
        <a href="#" aria-label="Releases">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l5 5h-3v7h-4V7H7l5-5z" /><path d="M5 20h14v2H5z" /></svg>
        </a>
        <a href="#" aria-label="Policies">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l8 4v6c0 5-3.5 9.74-8 10-4.5-.26-8-5-8-10V6l8-4z" /><path d="M10 13l-2-2 1.4-1.4L10 10.2l4.6-4.6L16 7l-6 6z" /></svg>
        </a>
        <a href="#" aria-label="Settings">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8a4 4 0 100 8 4 4 0 000-8zm9.4 4a7.5 7.5 0 01-.1 1l2.1 1.6-2 3.5-2.5-1a7.6 7.6 0 01-1.7 1l-.4 2.7H9.2l-.4-2.7a7.6 7.6 0 01-1.7-1l-2.5 1-2-3.5 2.1-1.6a7.5 7.5 0 010-2l-2.1-1.6 2-3.5 2.5 1a7.6 7.6 0 011.7-1l.4-2.7h5.6l.4 2.7a7.6 7.6 0 011.7 1l2.5-1 2 3.5-2.1 1.6c.1.3.1.7.1 1z" /></svg>
        </a>
    </nav>
    <div class="flex-grow-1 d-flex flex-column">
        <header class="top-bar d-flex align-items-center justify-content-between px-3 py-2">
            <div class="fw-semibold">CI/CD Release Dashboard</div>
            <div class="form-check form-switch m-0">
                <input class="form-check-input" type="checkbox" id="themeToggle" onchange="toggleTheme()" aria-label="Toggle dark mode">
            </div>
        </header>
        <div class="filter-bar px-3 py-2 border-bottom">
            <div class="row g-2">
                <div class="col">
                    <select class="form-select form-select-sm" @bind="Filters.TimeWindow" aria-label="Time window">
                        <option>Last 7 days</option>
                        <option>Last 30 days</option>
                        <option>Last 90 days</option>
                    </select>
                </div>
                <div class="col">
                    <select class="form-select form-select-sm" @bind="Filters.ValueStream" aria-label="Value Stream">
                        <option>All Streams</option>
                        <option>Payments</option>
                        <option>Lending</option>
                        <option>Cards</option>
                        <option>Channels</option>
                        <option>Treasury</option>
                    </select>
                </div>
                <div class="col">
                    <input class="form-control form-control-sm" placeholder="Application" @bind="Filters.Application" aria-label="Application" />
                </div>
                <div class="col">
                    <select class="form-select form-select-sm" @bind="Filters.Environment" aria-label="Environment">
                        <option>All</option>
                        <option>DEV</option>
                        <option>SIT</option>
                        <option>UAT</option>
                        <option>PROD</option>
                    </select>
                </div>
                <div class="col">
                    <select class="form-select form-select-sm" @bind="Filters.Risk" aria-label="Risk">
                        <option>All</option>
                        <option>Low</option>
                        <option>Medium</option>
                        <option>High</option>
                    </select>
                </div>
            </div>
        </div>
        <main class="flex-grow-1 p-3">
            <CascadingValue Value="Filters">
                @Body
            </CascadingValue>
        </main>
    </div>
</div>

@code {
    public class DashboardFilters
    {
        public string TimeWindow { get; set; } = "Last 30 days";
        public string ValueStream { get; set; } = "All Streams";
        public string? Application { get; set; }
        public string Environment { get; set; } = "All";
        public string Risk { get; set; } = "All";
    }

    public DashboardFilters Filters { get; set; } = new();
}